<ion-view title="FitRPG" hide-back-button="true">
  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon-gray icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
    <button class="button button-icon icon-gray icon ion-android-add-contact"></button>
  </ion-nav-buttons>
<!--   <ion-nav-buttons side="right">
    <button class="button button-icon icon ion-refresh" ng-click="refresh()"></button>
  </ion-nav-buttons> -->

  <ion-content class="has-header padding dashboard">
    <ion-refresher
      pulling-text="Pull to refresh..."
      on-refresh="refresh()">
    </ion-refresher>

    <alert ng-repeat="alert in alerts" type="{{alert.type}}" ng-click="navTo('battle')" close="closeAlert($index)">{{alert.msg}}</alert>

    <div class="list">
      <div class="card">
        <div class='item item-avatar item-main'>
          <img ng-src="{{user.profile.avatar}}">
          <h3>{{user.username}}</h3>
          <p>Level: {{user.attributes.level}} {{user.character}}</p>
        </div>

        <div class="item tabs tabs-secondary tabs-icon-left">
          <div class="tab-item tab-main-left">
            <span class="title-red">{{user.attributes.skillPts}} </span><span class="small-text">Skill Points</span>
          </div>
          <div class="tab-item tab-main-right">
            <span class="title-red">{{user.attributes.gold}} </span><span class="small-text">Gold</span>
          </div>
        </div>

        <div class="item row">
          <div class="col">
            <p>
              XP
              <span class="pull-right medium-text">{{calculatedData.currentXp}} / {{calculatedData.requiredXp}}</span>
            </p>
            <progressbar max="100" value="(calculatedData.currentXp*100)/calculatedData.requiredXp"></progressbar>
          </div>
        </div>

        <div class="item row">
          <div class="col">
            <p>
              HP
              <span class="pull-right medium-text">{{user.attributes.HP}} / {{calculatedData.maxHp}}</span>
            </p>
            <progressbar max="100" value="(user.attributes.HP*100)/calculatedData.maxHp"></progressbar>
          </div>
        </div>

        <div class="item row main-attributes">
          <div class="col">
            <h1>{{calculatedData.strength}}</h1>
            <p>Strength</p>
          </div>
          <div class="col">
            <h1>{{calculatedData.vitality}}</h1>
            <p>Vitality</p>
          </div>
          <div class="col">
            <h1>{{calculatedData.endurance}}</h1>
            <p>Endurance</p>
          </div>
          <div class="col">
            <h1>{{calculatedData.dexterity}}</h1>
            <p>Dexterity</p>
          </div>
        </div>

      </div>
<!--
      <div class="card">
        <ion-list>
          <ion-item type="item-text-wrap" class="item-icon-right">
            Strength
            <span class="pull-right">{{calculatedData.strength}}</span>
            <div ng-show="hasSkillPoints()">
              <i class="icon ion-ios7-plus-outline" ng-click="applyAttributes('strength')"></i>
            </div>
          </ion-item>
          <ion-item type="item-text-wrap" class="item-icon-right">
            Vitality
            <span class="pull-right">{{calculatedData.vitality}}</span>
            <div ng-show="hasSkillPoints()">
              <i class="icon ion-ios7-plus-outline" ng-click="applyAttributes('vitality')"></i>
            </div>
          </ion-item>
          <ion-item type="item-text-wrap" class="item-icon-right">
            Endurance
            <span class="pull-right">{{calculatedData.endurance}}</span>
            <div ng-show="hasSkillPoints()">
              <i class="icon ion-ios7-plus-outline" ng-click="applyAttributes('endurance')"></i>
            </div>
          </ion-item>
          <ion-item type="item-text-wrap" class="item-icon-right">
            Dexterity
            <span class="pull-right">{{calculatedData.dexterity}}</span>
            <div ng-show="hasSkillPoints()">
              <i class="icon ion-ios7-plus-outline" ng-click="applyAttributes('dexterity')"></i>
            </div>
          </ion-item>
        </ion-list>
      </div>
 -->
      <div class="card">
        <div class="item card-title">
          What I'm Wielding
          <span class="item-icon-right" ng-click="navTo('inventory')">
            <i class="icon icon-anvil"></i>
          </span>
        </div>

        <div class="item list-heading">
          <h1>Weapons</h1>
          <div ng-show="isEquipped('weapon1')">
            <p>{{user.equipped.weapon1.name}}</p>
          </div>
          <div ng-show="isEquipped('weapon2')">
            <p>{{user.equipped.weapon2.name}}</p>
          </div>
        </div>

        <div class="item list-heading">
          <h1>Armor</h1>
          <div ng-show="isEquipped('armor')">
            <p>{{user.equipped.armor.name}}</p>
          </div>
        </div>

        <div class="item list-heading">
          <h1>Accessories</h1>
          <div ng-show="isEquipped('accessory1')">
            <p>{{user.equipped.accessory1.name}}</p>
          </div>
          <div ng-show="isEquipped('accessory2')">
            <p>{{user.equipped.accessory2.name}}</p>
          </div>
        </div>

<!--
        <ion-list>
          <ion-item type="item-text-wrap" class="item-icon-right">
            Weapon:
            <span class="pull-right">{{user.equipped.weapon1.name}}</span>
            <div ng-show="isEquipped('weapon1')">
              <i class="icon ion-ios7-minus-outline" ng-click="unequip('weapon1')"></i>
            </div>
            <div ng-hide="isEquipped('weapon1')">
              <i class="icon ion-ios7-plus-outline" ng-click="navTo('inventory')"></i>
            </div>
          </ion-item>
          <ion-item type="item-text-wrap" class="item-icon-right">
            Weapon:
            <span class="pull-right">{{user.equipped.weapon2.name}}</span>
            <div ng-show="isEquipped('weapon2')">
              <i class="icon ion-ios7-minus-outline" ng-click="unequip('weapon2')"></i>
            </div>
            <div ng-hide="isEquipped('weapon2')">
              <i class="icon ion-ios7-plus-outline" ng-click="navTo('inventory')"></i>
            </div>
          </ion-item>
          <ion-item type="item-text-wrap" class="item-icon-right">
            Armor:
            <span class="pull-right">{{user.equipped.armor.name}}</span>
            <div ng-show="isEquipped('armor')">
              <i class="icon ion-ios7-minus-outline" ng-click="unequip('armor')"></i>
            </div>
            <div ng-hide="isEquipped('armor')">
              <i class="icon ion-ios7-plus-outline" ng-click="navTo('inventory')"></i>
            </div>
          </ion-item>
          <ion-item type="item-text-wrap" class="item-icon-right">
            Accessory:
            <span class="pull-right">{{user.equipped.accessory1.name}}</span>
            <div ng-show="isEquipped('accessory1')">
              <i class="icon ion-ios7-minus-outline" ng-click="unequip('accessory1')"></i>
            </div>
            <div ng-hide="isEquipped('accessory1')">
              <i class="icon ion-ios7-plus-outline" ng-click="navTo('inventory')"></i>
            </div>
          </ion-item>
          <ion-item type="item-text-wrap" class="item-icon-right">
            Accessory:
            <span class="pull-right">{{user.equipped.accessory2.name}}</span>
            <div ng-show="isEquipped('accessory2')">
              <i class="icon ion-ios7-minus-outline" ng-click="unequip('accessory2')"></i>
            </div>
            <div ng-hide="isEquipped('accessory2')">
              <i class="icon ion-ios7-plus-outline" ng-click="navTo('inventory')"></i>
            </div>
          </ion-item>
        </ion-list>

        <div class="item tabs tabs-secondary tabs-icon-left">
          <div class="tab-item">
            <i class="icon icon-coin"></i>
            {{user.attributes.gold}}
          </div>
          <div class="tab-item" ng-click="navTo('store')">
            <i class="icon icon-anvil"></i>
            Shop
          </div>
        </div>
 -->

      </div>

      <div class="card" ng-click="navTo('solomission')">
        <div class="item button-custom">
          Start A Quest
        </div>
      </div>

    </div>

  </ion-content>
</ion-view>
